@model Models.DTO.KhachHang
    @using Models.DAO
@{
    ViewBag.Title = "Index";

}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Hồ sơ</title>
<link href="~/Clientassets/css/bootstrap-icons.css" rel="stylesheet" />
<link href="~/Clientassets/css/user.css" rel="stylesheet" />
   
</head>

<body>
    <div class="body-content">

        <div class="left-body">
            <div class="col-xl-4  top-left-body">
                <div class="card1">
                    <div class="card-body profile-card pt-4 d-flex flex-column align-items-center">

                        <img src="@Model.AnhDaiDien" alt="Profile" class="round" style="border:1px solid;margin-left:20px;margin-top:30px;">
                        <h2 style="margin-left:40px;">@Model.HoTen</h2>
                        <h3 style="margin-left:100px;">@Model.SDT</h3>

                    </div>
                </div>

            </div>
            <div class="bot-left-body">
                <div class="topbutton">
                    <button class="buttonfunc">Đơn hàng của bạn</button>
                    <form action="/gio-hang">
                        <button class="buttonfunc">Giỏ hàng </button>
                    </form>
                </div>

            </div>
        </div>

        <div class="right-body">
            <div class="title_profile">
                <div class="center_profile">
                    <button class="btn-func" id="btn1">Thông tin</button>
                    <button class="btn-func" id="btn2">Chỉnh sửa</button>
                    <button class="btn-func" id="btn3">Đổi mật khẩu </button>
                </div>
            </div>
            <div id="content" class="body_profile"></div>
            <div id="content1" style="display:block;">
                <div class="subdiv">
                    <div class="body_content">
                        <div class="namecolumm"><p class="cnt_column">Họ và tên</p></div>
                        <div class="contentcolumn"> <input class="content_column" value="@Model.HoTen" readonly /> </div>

                    </div>
                    <div class="body_content">
                        <div class="namecolumm"><p class="cnt_column">Địa chỉ</p></div>
                        <div class="contentcolumn"> <input class="content_column" value="@Model.Diachi" readonly /> </div>

                    </div>

                </div>
                <div class="subdiv">

                    <div class="body_content">

                        <div class="namecolumm"><p class="cnt_column">Email </p></div>
                        <div class="contentcolumn"> <input class="content_column" value="@Model.Email" readonly /> </div>

                    </div>
                    <div class="body_content">

                        <div class="namecolumm"><p class="cnt_column">Số điện thoại</p></div>
                        <div class="contentcolumn"> <input class="content_column" value="@Model.SDT" readonly /> </div>

                    </div>

                </div>
                <div class="subdiv">

                    <div class="body_content">

                        <div class="namecolumm"><p class="cnt_column">Đơn hàng hiện có</p></div>
                        <div class="contentcolumn"> <input class="content_column" value="@Model.DonHangs.Count()" readonly /> </div>

                    </div>

                </div>
                <div class="subdiv">

                    <div class='body_content'>

                        <div class="namecolumm"><p class="cnt_column">Mã giảm giá của bạn </p></div>
                        @{
                            var model = new AccountDao();
                            var li = model.GetMGG(Model.TaiKhoan.ID);

                            if (li.Count() > 0)
                            {
                                foreach (var item in li)
                                {
                                    <div class="contentcolumn"><p class="cnt_column">@item</p></div>
                                }

                            }
                            else
                            {
                                <div class="contentcolumn"><p class="cnt_column">Chưa có mã giảm giá nào</p></div>
                            }
                        }
                    </div>
                </div>
            </div>
            <div id="content2" style="display:none;">
                <form action="/sua-ho-so" method="get">
                    <div class="subdiv">
                        <div class='body_content'>
                            <div class="namecolumm"><p class="cnt_column">Ảnh đại diện</p></div>
                            <div class="contentcolumn img_avt" style="width:100px;">
                                <img src="@Model.AnhDaiDien" width="90" style="border-bottom:solid;margin-left:5px;margin-top:5px;">
                                <div class="pt-2">
                                    <input type="hidden" id="txtImage" name="avt" />
                                    <input style="width:90%;height:30px;margin-left:5px;margin-bottom:5px;margin-right:5px;" type="button" value="Tải ảnh" onclick="BrowserServer('txtImage')" />

                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="subdiv">
                        <div class="body_content">
                            <div class="namecolumm"><p class="cnt_column">Họ và tên</p></div>
                            <div class="contentcolumn"> <input class="content_column" value="@Model.HoTen" name="hoten" /> </div>

                        </div>
                        <div class="body_content">
                            <div class="namecolumm"><p class="cnt_column">Địa chỉ</p></div>
                            <div class="contentcolumn"> <input class="content_column" value="@Model.Diachi" name="diachi"  /> </div>

                        </div>

                    </div>
                    <div class="subdiv">

                        <div class="body_content">

                            <div class="namecolumm"><p class="cnt_column">Email </p></div>
                            <div class="contentcolumn"> <input class="content_column" value="@Model.Email"  name="email" /> </div>

                        </div>
                        <div class="body_content">

                            <div class="namecolumm"><p class="cnt_column">Số điện thoại</p></div>
                            <div class="contentcolumn"> <input class="content_column" value="@Model.SDT" name="sdt" /> </div>

                        </div>

                    </div>



                    <div>
                        <button type="submit" style="margin-left:45%;margin-top:30px;height:50px;border-radius:10px;background-color:aqua" class="btn btn-primary">Lưu thông tin</button>
                    </div>
                </form>
            </div>
            <div id="content3" style="display:none;">
                <form action="/doi-mat-khau">

                    <div class="subdiv">

                        <div class="body_content">

                            <div class="namecolumm"><p class="cnt_column">Mật khẩu hiện tại </p></div>
                            <div class="contentcolumn"> <input class="content_column" name="oldpass" id="oldpass" /> </div>

                        </div>
                    </div>
                     <div class="subdiv">
                        <div class="body_content">

                            <div class="namecolumm"><p class="cnt_column">Mật khẩu mới</p></div>
                            <div class="contentcolumn"> <input class="content_column" name="newpass" id="newpass" type="password" /> </div>

                        </div>

                    </div>
                    <div class="subdiv">

                        <div class="body_content">

                            <div class="namecolumm"><p class="cnt_column">Xác nhận mật khẩu </p></div>
                            <div class="contentcolumn"> <input class="content_column" name="confirm" id="confirm" type="password" /> </div>

                        </div>
                      

                    </div>
                    <div class="text-center">
                        <button type="submit" style="margin-top:30px;height:50px;border-radius:10px;background-color:aqua" class="btn btn-primary">Đổi mật khẩu</button>
                    </div>
                </form>

            </div>
        </div>
    </div>

    <script src="~/Clientassets/js/apexcharts.min.js"></script>
    <script src="~/Clientassets/js/bootstrap.bundle.min.js"></script>


    <script>
        function BrowserServer(field) {
            var finder = new CKFinder();
            finder.selectActionFunction = function (fileUrl) {
                document.getElementById(field).value = fileUrl;
            };
            finder.popup();
        }
    </script>
    <script type="text/javascript">

        var btn1 = document.getElementById("btn1");
        var btn2 = document.getElementById("btn2");
        var btn3 = document.getElementById("btn3");

        var content1 = document.getElementById("content1");
        var content2 = document.getElementById("content2");
        var content3 = document.getElementById("content3");

        btn1.addEventListener("click", function () {
            content1.style.display = "block";
            content2.style.display = "none";
            content3.style.display = "none";
        });

        btn2.addEventListener("click", function () {
            content1.style.display = "none";
            content2.style.display = "block";
            content3.style.display = "none";
        });
        btn3.addEventListener("click", function () {
            content1.style.display = "none";
            content2.style.display = "none";
            content3.style.display = "block";
        });
    </script>
   

</body>

</html>

