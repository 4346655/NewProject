@model Models.DTO.KhachHang
    @using Models.DAO
@{
    ViewBag.Title = "Index";

}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Hồ sơ</title>

    <link href="~/Assets/css/bootstrap-icons.css" rel="stylesheet" />
    <link href="~/Assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/Assets/css/profile.css" rel="stylesheet" />
</head>

<body>
    <div class="body-content">



        <div class="left-body">
            <div class="col-xl-4  top-left-body">
                <div class="card1">
                    <div class="card-body profile-card pt-4 d-flex flex-column align-items-center">

                        <img src="@Model.AnhDaiDien" alt="Profile" class="round" style="border:1px solid">
                        <h2>@Model.HoTen</h2>
                        <h3>@Model.SDT</h3>
                        <div class="social-links mt-2">
                            <a href="#" class="twitter"><i class="bi bi-twitter"></i></a>
                            <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
                            <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
                            <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></a>
                        </div>
                    </div>
                </div>

            </div>
            <div class="bot-left-body">
                <div class="topbutton">
                    <button class="buttonfunc">Đơn hàng của bạn</button>
                    <form action="/gio-hang">
                        <button class="buttonfunc">Giỏ hàng </button>
                    </form>
                </div>

            </div>
        </div>

        <div class="right-body">
            <section class="section profile">
                <div class="row">


                    <div class="col-xl-8">

                        <div class="card">
                            <div class="card-body pt-3">
                                <!-- Bordered Tabs -->
                                <ul class="nav nav-tabs nav-tabs-bordered">
                                    <li class="nav-item">
                                        <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#profile-overview">Tổng quát</button>
                                    </li>
                                    <li class="nav-item">
                                        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-edit">Chỉnh sửa</button>
                                    </li>
                                    <li class="nav-item">
                                        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-change-password">Đổi mật khẩu</button>
                                    </li>
                                </ul>
                                <div class="tab-content pt-2">
                                    <div class="tab-pane fade show active profile-overview" id="profile-overview">
                                        <br /><br />
                                        <h5 class="card-title">Chi tiết hồ sơ</h5>
                                        <div class="row">
                                            <div class="col-lg-3 col-md-4 label ">Họ và tên</div>
                                            <div class="col-lg-9 col-md-8">@Model.HoTen</div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-3 col-md-4 label">Tên đăng nhập</div>
                                            <div class="col-lg-9 col-md-8">@Model.TaiKhoan.TenTaiKhoan</div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-3 col-md-4 label">Số điện thoại</div>
                                            <div class="col-lg-9 col-md-8">@Model.SDT</div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-3 col-md-4 label">Địa chỉ</div>
                                            <div class="col-lg-9 col-md-8">@Model.Diachi</div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-3 col-md-4 label">Email</div>
                                            <div class="col-lg-9 col-md-8">@Model.Email</div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-3 col-md-4 label">Số đơn hàng đang có</div>
                                            <div class="col-lg-9 col-md-8">@Model.DonHangs.Count()</div>
                                        </div>
                                        <div class="row" style="display:flex">
                                            <div class="col-lg-3 col-md-4 label" style="flex:1">Mã giảm giá của bạn</div>
                                            <div style="flex:3">
                                                @{
                                                    var model = new AccountDao();
                                                    var li = model.GetMGG(Model.TaiKhoan.ID);

                                                    if (li.Count() > 0)
                                                    {
                                                        foreach (var item in li)
                                                        {
                                                            <div class="col-lg-9 col-md-8">@item</div>
                                                        }

                                                    }
                                                    else
                                                    {
                                                        <div class="col-lg-9 col-md-8">Chưa có mã giảm giá nào</div>
                                                    }
                                                }
                                            </div>
                                        </div>

                                    </div>

                                    <div class="tab-pane fade profile-edit pt-3" id="profile-edit">

                                        <!-- Profile Edit Form -->

                                        <form action="/sua-ho-so" method="get">
                                            <div class="row mb-3">
                                                <label for="avt" class="col-md-4 col-lg-3 col-form-label">Ảnh đại diện</label>
                                                <div class="col-md-8 col-lg-9">
                                                    <img src="@Model.AnhDaiDien" width="100">
                                                    <div class="pt-2">

                                                        <input type="hidden" id="txtImage" name="avt" />
                                                        <input style="width:70px" type="button" value="Tải ảnh" onclick="BrowserServer('txtImage')" />

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row mb-3">
                                                <label for="hoten" class="col-md-4 col-lg-3 col-form-label">Họ và tên</label>
                                                <div class="col-md-8 col-lg-9">
                                                    <input name="hoten" type="text" class="form-control" id="hoten" value="@Model.HoTen" style="width:300px;">
                                                </div>
                                            </div>
                                            <div class="row mb-3">
                                                <label for="diachi" class="col-md-4 col-lg-3 col-form-label">Địa chỉ</label>
                                                <div class="col-md-8 col-lg-9">
                                                    <input name="diachi" type="text" class="form-control" id="diachi" value="@Model.Diachi" style="width:300px;">
                                                </div>
                                            </div>
                                            <div class="row mb-3">
                                                <label for="email" class="col-md-4 col-lg-3 col-form-label">Email</label>
                                                <div class="col-md-8 col-lg-9">
                                                    <input name="email" type="text" class="form-control" id="email" value="@Model.Email" style="width:300px;">
                                                </div>
                                            </div>
                                            <div class="row mb-3">
                                                <label for="sdt" class="col-md-4 col-lg-3 col-form-label">Số điện thoại</label>
                                                <div class="col-md-8 col-lg-9">
                                                    <input name="sdt" type="text" class="form-control" id="sdt" value="@Model.SDT" style="width:300px;">
                                                </div>
                                            </div>



                                            <div>
                                                <button type="submit" class="btn btn-primary">Lưu thông tin</button>
                                            </div>
                                        </form><!-- End Profile Edit Form -->

                                    </div>
                                    <br>


                                    <div class="tab-pane fade pt-3" id="profile-change-password">
                                        <!-- Change Password Form -->
                                        <form action="/doi-mat-khau">

                                            <div class="row mb-3">
                                                <label class="col-md-4 col-lg-3 col-form-label">Mật khẩu hiện tại</label>
                                                <div class="col-md-8 col-lg-9">
                                                    <input name="oldpass" type="text" class="form-control" id="oldpass" style="width:300px;">
                                                </div>
                                            </div>

                                            <div class="row mb-3">
                                                <label class="col-md-4 col-lg-3 col-form-label">Mật khẩu mới</label>
                                                <div class="col-md-8 col-lg-9">
                                                    <input name="newpass" type="password" class="form-control" id="newpass" style="width:300px;">
                                                </div>
                                            </div>

                                            <div class="row mb-3">
                                                <label class="col-md-4 col-lg-3 col-form-label">Xác nhận mật khẩu</label>
                                                <div class="col-md-8 col-lg-9">
                                                    <input name="confirm" type="password" class="form-control" id="confirm" style="width:300px;">
                                                </div>
                                            </div>

                                            <div class="text-center">
                                                <button type="submit" class="btn btn-primary">Change Password</button>
                                            </div>
                                        </form><!-- End Change Password Form -->

                                    </div>

                                </div><!-- End Bordered Tabs -->

                            </div>
                        </div>

                    </div>
                </div>
            </section>

        </div>
    </div>



    <script src="~/Assets/js/apexcharts.min.js"></script>
    <script src="~/Assets/js/bootstrap.bundle.min.js"></script>

    <script>
        function BrowserServer(field) {
            var finder = new CKFinder();
            finder.selectActionFunction = function (fileUrl) {
                document.getElementById(field).value = fileUrl;
            };
            finder.popup();
        }
    </script>

</body>

</html>

